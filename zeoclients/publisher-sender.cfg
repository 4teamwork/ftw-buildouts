[buildout]
extends = https://raw.githubusercontent.com/4teamwork/ftw-buildouts/master/zeoclients/publisher.cfg

publisher-sender-username = publisher
publisher-sender-password = ** CHANGE ME **
publisher-sender-site-path = ** /path/to/site/root **
publisher-sender-cronjob-interval = 120
publisher-receiver-username = publisher
publisher-receiver-password = ** CHANGE ME **
publisher-receiver-site-url = ** http://PATH/TO/SITEROOT **

zcml-additional-fragments +=
    <configure xmlns:publisher="http://namespaces.zope.org/ftw.publisher">
        <include package="ftw.publisher.sender" file="meta.zcml" />
        <publisher:override-realm
            url="${buildout:publisher-receiver-site-url}"
            username="${buildout:publisher-receiver-username}"
            password="${buildout:publisher-receiver-password}" />
    </configure>


[instancepub]
zope-conf-additional +=
    <clock-server>
        method ${buildout:publisher-sender-site-path}/@@publisher-config-executeJobs
        period ${buildout:publisher-sender-cronjob-interval}
        user ${buildout:publisher-sender-username}
        password ${buildout:publisher-sender-password}
    </clock-server>