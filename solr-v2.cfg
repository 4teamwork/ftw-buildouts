[buildout]
solr-core-name = plone

parts += solr

zcml-additional-fragments +=
    <configure xmlns:solr="http://namespaces.plone.org/solr">
        <solr:connection host="localhost"
                         port="${solr:port}"
                         base="/solr/${:solr-core-name}"/>
    </configure>

[solr]
recipe = ftw.recipe.solr
port = 1${buildout:deployment-number}30
cores = ${buildout:solr-core-name}

[supervisor]
programs +=
    10 solr (startsecs=5) ${buildout:bin-directory}/solr [console] true ${buildout:os-user}

